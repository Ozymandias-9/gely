{
    "project": "Random Project",
    "settings": {
        "storeFile": "gely/store.json"
    },
    "actions": {
        "add-reducer": {
            "title": "Add reducer",
            "inputs": {
                "reducer_folder_name": {
                    "prompt": "Enter the name of the reducer folder:"
                },
                "reducer_name": {
                    "prompt": "Enter the name of the reducer:"
                }
            },
            "layers": [
                {
                    "action": "create-folder",
                    "params": [
                        { "target": "main/{reducer_folder_name}/state" }
                    ],
                    "produces": "reducer_folder"
                },
                {
                    "action": "create-folder",
                    "params": [
                        {  "target": "main/{reducer_folder_name}/view" }
                    ],
                    "produces": "view_folder"
                },
                {
                    "action": "create-file",
                    "params": [
                        { "template": "view.tpl" },
                        { "output": "{view_folder}/index.js" }
                    ]
                },
                {
                    "action": "create-file",
                    "params": [
                        { "template": "reducer.tpl" },
                        { "output": "{reducer_folder}/{reducer_name}.reducer.js" }
                    ],
                    "produces": "reducer_path"
                },
                {
                    "action": "create-file",
                    "params": [
                        { "template": "reducer-service.tpl" },
                        { "output": "{reducer_folder}/{reducer_name}.service.js" }
                    ],
                    "produces": "service_path"
                },
                {
                    "action": "create-file",
                    "params": [
                        { "template": "reducer-action-types.tpl" },
                        { "output": "{reducer_folder}/{reducer_name}.actionTypes.js" }
                    ]
                },
                {
                    "action": "create-file",
                    "params": [
                        { "template": "reducer-actions.tpl" },
                        { "output": "{reducer_folder}/{reducer_name}.actions.js" }
                    ]
                },
                {
                    "action": "append-to-file",
                    "params": [
                        { "input": "import { {reducer_name}Service } from '{service_path}';" },
                        { "target": "main/services/index.js" },
                        { "delimiter": "// @imports" }
                    ]
                },
                {
                    "action": "append-to-file",
                    "params": [
                        { "input": "    {reducer_name}Service," },
                        { "target": "main/services/index.js" },
                        { "delimiter": "// @definition" }
                    ]
                },
                {
                    "action": "append-to-file",
                    "params": [
                        { "input": "import { {reducer_name}Reducer } from '{reducer_path}';" },
                        { "target": "main/reducers/index.js" },
                        { "delimiter": "// @imports" }
                    ]
                },
                {
                    "action": "append-to-file",
                    "params": [
                        { "input": "    {reducer_name}Reducer," },
                        { "target": "main/reducers/index.js" },
                        { "delimiter": "// @definition" }
                    ]
                }
            ],
            "store": {
                "in": "reducers",
                "key": "{reducer_name}", 
                "data": {
                    "name": "{reducer_name}",
                    "path": "{reducer_folder}"
                }
            }
        },
        "add-action": {
            "title": "Add action",
            "inputs": {
                "selected_reducer": {
                    "prompt": "Select the reducer to modify:",
                    "type": "select",
                    "source": {
                        "type": "store",
                        "collection": "reducers"
                    },
                    "display_key": "name",
                    "map": {
                        "reducer_name": "name",
                        "reducer_path": "path"
                    }
                },
                "action_name": {
                    "prompt": "Enter the name of the action to create:"
                }
            },
            "layers": [
                {
                    "action": "append-to-file",
                    "params": [
                        { "template": "action-type.tpl" },
                        { "target": "{reducer_path}/{reducer_name}.actionTypes.js" },
                        { "delimiter": "// @actionTypes" }
                    ]
                }
            ]
        }
    }
}